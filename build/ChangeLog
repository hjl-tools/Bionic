2012-09-14  H.J. Lu  <hongjiu.lu@intel.com>

	* Makefile (DYNAMIC_LIBSTDCXX): Add $(libdl.so_LIB).

2012-09-13  H.J. Lu  <hongjiu.lu@intel.com>

	* Makefile (all): Display executable name.

2012-08-30  H.J. Lu  <hongjiu.lu@intel.com>

	* Makefile (SAFE_IOP_DIR): New.
	(SAFE_IOP_INCLUDE_DIR): Likewise.
	(INCLUDES): "Drop /private".
	(CFLAGS): Add -mfpmath=sse for x86.  Add -DPLATFORM_SDK_VERSION=16.
	(libc_common_src_files): Remove unistd/creat.c, unistd/getcwd.c
	unistd/nice.c, bionic/ssp.c, bionic/stubs.c, regex/regcomp.c,
	regex/regerror.c, regex/regexec.c and regex/regfree.c.  Add
	stdio/__fgets_chk.c, stdio/__snprintf_chk.c,
	stdio/__sprintf_chk.c, stdio/__vsnprintf_chk.c,
	stdio/__vsprintf_chk.c, string/__memcpy_chk.c,
	string/__memmove_chk.c, string/__memset_chk.c,
	string/__strcat_chk.c, string/__strcpy_chk.c,
	string/__strlcat_chk.c, string/__strlcpy_chk.c,
	string/__strlen_chk.c, string/__strncat_chk.c,
	string/__strncpy_chk.c, bionic/bionic_clone.c,
	bionic/getcwd.cpp, bionic/stubs.cpp, bionic/tdestroy.c.
	Replace arch-$(ARCH)/bionic/atomics_$(ARCH).S with
	arch-$(ARCH)/bionic/futex_$(ARCH).S.
	(libc_upstream_netbsd_src_files): New.
	(libc_arch_static_src_files): Replace
	arch-$(ARCH)/bionic/dl_iterate_phdr_static.c with
	bionic/dl_iterate_phdr_static.c.
	(libc_common_cflags): Add -DHAVE_UNWIND_CONTEXT_STRUCT,
	-DHAVE_DLADDR=1 and -std=gnu99.
	(libc_common_c_includes): Add $(SAFE_IOP_INCLUDE_DIR).
	(malloc_src_files): Add bionic/pthread_debug.c.
	(ssp_src_files): New.
	(ssp_OBJS): Likewise.
	(OBJS): Add $(ssp_OBJS).
	(CFLAGS): Add -fno-stack-protector for $(ssp_OBJS).
	(libc.a_src_files): Add $(ssp_src_files).
	(LINKER_SRC_FILES): Remove linker.c and ba.c.  Add linker.cpp
	and linker_phdr.c.
	(LINKER_TEXT_BASE): Removed.
	(LINKER_AREA_SIZE): LIkewise.
	(ld.so_LDFLAGS): Changed to -shared.
	(LINKER_CFLAGS): Updated with -fno-stack-protector
	-fvisibility=hidden -std=gnu99.
	($(LIB_DIR)/crtbegin_dynamic.o): New target.
	($(LIB_DIR)/crtbegin_static.o): Likewise.
	($(OBJ_DIR)/crtbegin_dynamic1.o): Likewise.
	($(OBJ_DIR)/crtbegin_static1.o): Likewise.
	($(OBJ_DIR)/crtbrand.o): Likewise.
	($(OBJ_DIR)/crtbrand.s): Likewise.
	($(LIB_DIR)/ld.so): Remove $(LIB_DIR)/crtend_android.o.

2012-03-23  H.J. Lu  <hongjiu.lu@intel.com>

	* Makefile (libc_common_src_files): Use strcat_wrapper.S,
	strcpy_wrapper.S, strncat_wrapper.S and strncpy_wrapper.S for
	x32.

2012-03-23  H.J. Lu  <hongjiu.lu@intel.com>

	* Makefile (libc_common_src_files): Use strlen.S and strnlen.S
	for x32.

2012-03-23  H.J. Lu  <hongjiu.lu@intel.com>

	* Makefile (libc_common_src_files): Use strrchr.S for x32.

2012-03-23  H.J. Lu  <hongjiu.lu@intel.com>

	* Makefile (libc_common_src_files): Use strchr.S for x32.

2012-03-23  H.J. Lu  <hongjiu.lu@intel.com>

	* Makefile (libc_common_src_files): Use memcmp_wrapper.S for
	x32.

2012-03-23  H.J. Lu  <hongjiu.lu@intel.com>

	* .gdbinit: Removed.

2012-03-23  H.J. Lu  <hongjiu.lu@intel.com>

	* Makefile (libc_common_src_files): Use memmove_wrapper.S for
	x32.

2012-03-22  H.J. Lu  <hongjiu.lu@intel.com>

	* test/malloc1.c (ALIGN): New.
	(test): Use it.

2012-03-22  H.J. Lu  <hongjiu.lu@intel.com>

	* Makefile (libc_common_src_files): Use unistd/fstatfs.c and
	unistd/statfs.c for x86.

2012-03-21  H.J. Lu  <hongjiu.lu@intel.com>

	* Makefile (libc_common_src_files): Use bzero.S and memset.S
	for x32.

2012-03-02  H.J. Lu  <hongjiu.lu@intel.com>

	* test/malloc1.c: New.

	* Makefile: Build and run test/malloc1.c.

2012-02-23  H.J. Lu  <hongjiu.lu@intel.com>

	* test/pthread1.c: New.

	* Makefile: Build and run test/pthread1.c.

2012-02-23  H.J. Lu  <hongjiu.lu@intel.com>

	* Makefile (libc_common_src_files): Remove unistd/sigsuspend.c
	and replace arch-$(ARCH)/bionic/__sigsuspend.c with
	arch-$(ARCH)/bionic/sigsuspend.c for x32.

2011-12-14  H.J. Lu  <hongjiu.lu@intel.com>

	* Makefile (libc_common_src_files): Add sigsetjmp.S.

2011-12-14  H.J. Lu  <hongjiu.lu@intel.com>

	* Makefile (INCLUDES): Use i387 for x86 and amd64 for x32.
	(libc_common_src_files): Remove unistd/lseek64.c and unistd/mmap.c.
	Support x32.
	(libm_common_src_files): Support x32.

2011-12-14  H.J. Lu  <hongjiu.lu@intel.com>

	* test/hello.c: Include <time.h>, <sys/stat.h> and <sys/statfs.h>.
	(hello): Print out sizes of time_t, off_t, struct stat and
	struct statfs.

2011-12-14  H.J. Lu  <hongjiu.lu@intel.com>

	* Makefile (X32OBJS): Removed.
	(X32SHARED_LIBS): Likewise.
	(X32STATIC_LIBS): Likewise.

2011-12-08  H.J. Lu  <hongjiu.lu@intel.com>

	* Makefile ($(libexception-foo.so_LIB)): Depend on $(libc.so_LIB)
	$(libstdc++.so_LIB).

2011-12-08  H.J. Lu  <hongjiu.lu@intel.com>

	* Makefile: Build and run libexception-foo.so and
	exception-main.dynamic.

	* test/exception-foo.cc: New.
	* test/exception-main.cc: Likewise.

2011-12-07  H.J. Lu  <hongjiu.lu@intel.com>

	* Makefile (libm_common_src_files): Add sincos.c.
	(DYNAMIC_LIBSTDCXX): Add $(LIBGCC) after $(LIBSUPCXX).
	(STATIC_LIBSTDCXX): Likewise.

2011-06-13  H.J. Lu  <hongjiu.lu@intel.com>

	* test/hello.c (hello): New.
	(main): Use it.

2011-04-26  H.J. Lu  <hongjiu.lu@intel.com>

	* README: Updated.

2011-04-26  H.J. Lu  <hongjiu.lu@intel.com>

	* Makefile (ARCH): Default to x86.

2011-04-26  H.J. Lu  <hongjiu.lu@intel.com>

	* Makefile (BIONIC_LIBSTDCXX_DIR): New.
	(LIBSUPCXX): Likewise.
	(build-dynamic-c++-executable): Likewise.
	(build-static-c++-executable): Likewise.
	(build-shlib-ldflags): Likewise.
	(build-shlib): Add $($(@F)_LIBS).
	($(LIB_DIR)/libdl.so): Use $(build-shlib-ldflags).
	Build libstdc++.a, libstdc++.so, test_basic_exceptions.static
	and test_basic_exceptions.dynamic.
	Support .cpp and .cc C++ files.

	* test/test_basic_exceptions.cpp: New.

2011-04-26  H.J. Lu  <hongjiu.lu@intel.com>

	* Makefile (build-shlib): Put $(LIB_DIR)/crtend_so.o at the end.

2011-04-25  H.J. Lu  <hongjiu.lu@intel.com>

	* .gdbinit: New.

2011-04-23  H.J. Lu  <hongjiu.lu@intel.com>

	* Makefile (CORE_LIBCUTILS_DIR): Removed.
	(VPATH): Remove $(CORE_LIBCUTILS_DIR).

2011-04-23  H.J. Lu  <hongjiu.lu@intel.com>

	* Makefile (INCLUDES): Add -I$(BIONIC_LIBC_DIR)/private.
	(CPP_FLAGS): -DANDROID_SMP=1.
	($(crt_OBJS):CFLAGS): Remove -DNO_CTORS_SECTIONS.
	(LINKER_CFLAGS): Likewise.
	(libdl.so_LDFLAGS): New.
	(libc_static_common_src_files): New.
	(libc_common_src_files): Updated for UMG AOSP 20110422.
	(libc_common_cflags): Remove -DNEED_PSELECT=1 and
	-DNO_CTORS_SECTIONS.
	(libc_nomalloc_src_files): Add $(libc_static_common_src_files).
	(libc.so_src_files): Likewise.
	(LINKER_SRC_FILES): Add linker_environ.c.  Remove
	socket_local_client.c.
	($(LIB_DIR)/libdl.so): New.

2011-04-22  H.J. Lu  <hongjiu.lu@intel.com>

	* Makefile (CPP_FLAGS): Add -DSHARED.

2011-01-17  H.J. Lu  <hongjiu.lu@intel.com>

	* Makefile (SHLIB_LDFLAGS): Add --fatal-warnings.

2011-01-17  H.J. Lu  <hongjiu.lu@intel.com>

	* Makefile (SHLIB_LDFLAGS): Add -Wl,--warn-shared-textrel.

2011-01-17  H.J. Lu  <hongjiu.lu@intel.com>

	* Makefile (SHLIB_LDFLAGS): New.
	(build-shlib): Use it.

2011-01-17  H.J. Lu  <hongjiu.lu@intel.com>

	* Makefile: Update compile rules.

2011-01-16  H.J. Lu  <hongjiu.lu@intel.com>

	* Makefile (CFLAGS): Add -O3.
	(LDFLAGS): New.
	(build-dynamic-executable): Add $(LDFLAGS).
	(build-static-executable): Likewise.
	(build-shlib): Likewise.

2011-01-15  H.J. Lu  <hongjiu.lu@intel.com>

	* Makefile: New.
	* README: Likewise.
